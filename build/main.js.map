{"version":3,"sources":["../../src/app/app.component.ts","../../src/schema/account.ts","../../src/providers/crypto/crypto.ts","../../src/pages/authenticate/authenticate.ts","../../src/pages/secure-notes/secure-notes.ts","../../src/pages/item-editor/item-editor.ts","../../src/pages/password-generator/password-generator.ts","../../src/pages/new-keychain/new-keychain.ts","../../src/pages/settings/settings.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/types/keychain.ts","../../src/services/validation/validation.ts","../../src/schema/secure-note.ts","../../src/pages/secure-items/secure-items.ts","../../src/providers/password-generator/password-generator.ts","../../src/pages/accounts/accounts.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/keychain/keychain.ts","../../src/schema/keychain.ts","../../src/types/secure-note.ts","../../src/types/account.ts","../../util (ignored)","webpack:///util (ignored)?bf37","../../buffer (ignored)","../../crypto (ignored)","../../src/providers/localized-toast/localized-toast.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { SecureNotesPage } from '../pages/secure-notes/secure-notes';\nimport { TranslateService } from '@ngx-translate/core';\nimport { KeychainProvider } from '../providers/keychain/keychain';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { AccountsPage } from '../pages/accounts/accounts';\n\n/**\n * Storage IDs\n */\nexport enum StorageID{\n  accounts = \"accounts\",\n  secureNotes = \"secureNotes\"\n}\n\n/**\n * App Mode\n */\nexport enum Mode{\n  desktop,\n  mobile,\n  browser\n}\n\n\n/**\n * App Component\n */\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class AppComponent {\n\n\n  /**\n   * States what mode keychain is set for\n   * DO NOT CHANGE. Instead use correct build command found in package.json\n   */\n  static readonly mode:Mode = Mode.browser;\n\n  /**\n   * Navigation\n   */\n  @ViewChild(Nav) nav: Nav;\n\n  /**\n   * Root Page\n   */\n  rootPage: any = AccountsPage;\n\n  /**\n   * All Pages\n   */\n  pages: Array<{title: string, component: any}>;\n\n  /**\n   * Intializes AppComponent\n   * @param translate Translation Service\n   * @param platform Platform\n   * @param statusBar Status Bar\n   * @param splashScreen Splash Screen\n   */\n  constructor(translate : TranslateService,\n    public platform: Platform, \n    public statusBar: StatusBar, \n    public splashScreen: SplashScreen,\n    private keychainProvider : KeychainProvider) {\n    this.initializeApp();\n\n\n\n\n    // this language will be used as a fallback when a translation isn't found in the current language\n    translate.setDefaultLang('en');\n\n    // the lang to use, if the lang isn't available, it will use the current loader to get them\n    translate.use('en');\n    // used for an example of ngFor and navigation\n    translate.get('titles').subscribe((titles: any) => {\n      this.pages = [\n        { title: titles.accounts, component: AccountsPage },\n        { title: titles.secureNotes, component: SecureNotesPage },\n        { title: titles.settings, component: SettingsPage }\n      ];\n    });\n    \n  }\n  /**\n   * Intializes App\n   */\n  initializeApp() {\n    this.platform.ready().then(() => {\n      this.keychainProvider.removePassphraseSecurely();\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n\n  /**\n   * Opens Pages\n   * @param page Page to open\n   */\n  openPage(page) {\n    this.nav.setRoot(page.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export let ACCOUNT_SCHEMA = {\n    type: \"object\",\n    properties : {\n        \n        title:{\n            type: \"string\",\n            minLength: 1\n        },\n        userName:{\n            type: \"string\",\n            minLength: 1\n        },\n        password:{\n            type: \"string\",\n            minLength: 1\n        },\n        url:{\n            type: \"string\",\n            minLength: 1\n        },\n        twoFactor:{\n            type: \"string\",\n            minLength: 1\n        },\n        uuid:{\n            type: \"string\",\n            minLength: 1,\n            hidden: true\n        }\n    },\n\n    additionalProperties:false,\n    required: [\"title\", \"userName\", \"password\", \"url\",\"uuid\"]\n};\n\n\n// WEBPACK FOOTER //\n// ./src/schema/account.ts","import { Injectable } from '@angular/core';\nimport {vsprintf} from 'sprintf-js';\nimport cookie from 'cookie';\n/*\n  Generated class for the CryptoProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class CryptoProvider {\n\n\n\n  decryptStringFromPhrase(passphrase:string, encodedData : string):Promise<{}>{\n      return this.importKey(passphrase).then((importedKey) => {\n        console.log(importedKey)\n        return this.decryptStringFromKey(importedKey,encodedData);\n      });\n  }\n\n  decryptStringFromKey(importedKey:CryptoKey, encodedData : string):Promise<{}>{\n    //Decode string\n    try {\n\n      const decoded = this.stringToArrayBuffer(window.atob(encodedData));\n      const salt = decoded.slice(0,16);\n      const data = decoded.slice(16);\n\n        return this.deriveKey(importedKey,salt).then((key) => {\n          return (window.crypto.subtle.decrypt(\n            {\n                name: \"AES-GCM\",\n                iv: salt,\n                tagLength: 128,\n            },\n            key,\n            data\n          ) as Promise<ArrayBuffer>)\n          .then((decrypted) => {\n            console.log(decrypted)\n            return JSON.parse(this.bufferToString(new Uint8Array(decrypted))) as {};\n          })\n          .catch((error : Error) => {\n            return null;\n          });\n        });\n\n\n    }catch{\n      return null\n    }\n      \n  }\n\n\n\n  encryptObjectFromPhrase(passphrase : string, object : {}):PromiseLike<string>{\n\n    return this.importKey(passphrase).then((importedKey) => {\n      return this.encryptObjectFromKey(importedKey,object);\n    });\n  }\n\n  encryptObjectFromKey(importedKey : CryptoKey, object : {}){\n    const salt = this.generateSalt(); \n\n    return this.deriveKey(importedKey,salt).then((key) => {\n      return window.crypto.subtle.encrypt(\n        {\n            name: \"AES-GCM\",\n    \n            //Don't re-use initialization vectors!\n            //Always generate a new iv every time your encrypt!\n            //Recommended to use 12 bytes length\n            iv: salt,\n\n    \n            //Tag length (optional)\n            tagLength: 128, //can be 32, 64, 96, 104, 112, 120 or 128 (default)\n        },\n        key, //from generateKey or importKey above\n        this.stringToArrayBuffer(JSON.stringify(object))\n        ) \n        .then((encrypted) => {\n\n          //Note: Converts to Base64 string\n          //Concatonate typed arrays\n          const saltLength = salt.length;\n          const encryptedLength = encrypted.byteLength;\n          const data = new Uint8Array(saltLength + encryptedLength);\n          data.set(salt, 0);\n          data.set(new Uint8Array(encrypted), saltLength);\n          return window.btoa(this.bufferToString(data));\n            //returns an ArrayBuffer containing the encrypted data\n        });   \n    });\n  }\n\n\n\n  /**\n   * Converts from string to array buffer\n   * Credits:  https://developers.google.com/web/updates/2012/06/How-to-convert-ArrayBuffer-to-and-from-String\n   * @param str \n   */\n  stringToArrayBuffer(str : string):Uint8Array{\n    const encBuff = new Uint8Array(str.length);\n    for (let i = 0; i < encBuff.length; i++) {\n        encBuff[i] = str.charCodeAt(i);\n    }\n    return encBuff;\n  }\n\n  /**\n   * Converts from array buffer to string\n   * Credits:  https://developers.google.com/web/updates/2012/06/How-to-convert-ArrayBuffer-to-and-from-String\n   * @param Array buffer \n   */\n  bufferToString(buf : ArrayBuffer | Uint8Array):string {\n    return String.fromCharCode.apply(null, buf);\n  }\n\n  /**\n   * Generates a salt\n   * @returns IV representing salt\n   */\n  generateSalt():Uint8Array{\n    return window.crypto.getRandomValues(new Uint8Array(16)) as Uint8Array;\n  }\n\n  /**\n   * Gets key from passprase\n   * @param passphrase Passphrase to get key from\n   */\n  importKey(passphrase : string):Promise<CryptoKey>{\n    return  window.crypto.subtle.importKey(\n      \"raw\", //only \"raw\" is allowed\n      this.stringToArrayBuffer(passphrase),\n      \"PBKDF2\",\n      false, //whether the key is extractable (i.e. can be used in exportKey)\n      [\"deriveKey\", \"deriveBits\"] //can be any combination of \"deriveKey\" and \"deriveBits\"\n    ) as Promise<CryptoKey>;\n  }\n\n  deriveKey(importedKey : CryptoKey, salt : Uint8Array):Promise<CryptoKey>{\n    return window.crypto.subtle.deriveKey(\n      {\n          \"name\": \"PBKDF2\",\n          salt,\n          iterations: 45000, //Based on https://support.1password.com/pbkdf2/\n          hash: {name: \"SHA-512\"}, //can be \"SHA-1\", \"SHA-256\", \"SHA-384\", or \"SHA-512\"\n      },\n      importedKey, //your key from generateKey or importKey\n      { //the key type you want to create based on the derived bits\n          name: \"AES-GCM\", //can be any AES algorithm (\"AES-CTR\", \"AES-CBC\", \"AES-CMAC\", \"AES-GCM\", \"AES-CFB\", \"AES-KW\", \"ECDH\", \"DH\", or \"HMAC\")\n          //the generateKey parameters for that type of algorithm\n          length: 256, //can be  128, 192, or 256\n      },\n      false, //whether the derived key is extractable (i.e. can be used in exportKey)\n      [\"encrypt\", \"decrypt\"] //limited to the options in that algorithm's importKey\n    ) as Promise<CryptoKey>;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/crypto/crypto.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { KeychainProvider } from '../../providers/keychain/keychain';\n\n@IonicPage()\n@Component({\n  selector: 'page-authenticate',\n  templateUrl: 'authenticate.html',\n})\nexport class AuthenticatePage {\n\n/**\n * Passphrase to authenticate\n */\nprivate passphrase = \"\";\n\n  /**\n   * Intializes EditPasswordPage\n   * @param viewCtrl View Controller\n   * @param navParams Navigation Parameters\n   */\n  constructor(private keychainProvider : KeychainProvider, private viewCtrl: ViewController, private navParams: NavParams) {\n  \n  }\n\n  /**\n   * Passes Passphrase to keychain\n   */\n  passKeychain() {\n    this.viewCtrl.dismiss(this.passphrase);\n  }\n\n  /**\n   * Removes Keychain\n   */\n  removeKeychain() {\n    this.keychainProvider.removeKeychain();\n    location.reload();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/authenticate/authenticate.ts","import { Component } from '@angular/core';\nimport { IonicPage, ModalController, Platform } from 'ionic-angular';\nimport { SecureItemsPage } from '../secure-items/secure-items';\nimport { SECURE_NOTE_DEFAULT, SecureNote } from '../../types/secure-note';\nimport { SECURE_NOTE_SCHEMA } from '../../schema/secure-note';\nimport { KeychainProvider } from '../../providers/keychain/keychain';\nimport { StorageID } from '../../app/app.component';\n\n/**\n * Page for displaying passwords\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-secure-notes',\n  templateUrl: 'secure-notes.html',\n})\nexport class SecureNotesPage extends SecureItemsPage<SecureNote>{\n\n  readonly objectDefaults = SECURE_NOTE_DEFAULT;\n\n  /**\n   * Intializes __SecureNotesPage__\n   * @param modalCtrl Modal Controller\n   * @param keychain Keychain Provider\n   */\n  constructor(\n    modalCtrl : ModalController, keychain : KeychainProvider, platform : Platform) {\n      super(modalCtrl,keychain, SECURE_NOTE_SCHEMA, StorageID.secureNotes,platform);\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/secure-notes/secure-notes.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavParams, ViewController, ToastController, ModalController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { ValidationService } from '../../services/validation/validation';\nimport { LocalizedToastProvider } from '../../providers/localized-toast/localized-toast';\nimport { PasswordGeneratorPage } from '../password-generator/password-generator';\nimport { Account, ACCOUNT_DEFAULT } from '../../types/account';\nimport { ACCOUNT_SCHEMA } from '../../schema/account';\n/**\n * Edit and add passwords\n */\n@IonicPage()\n@Component({\n  selector: 'page-item-editor',\n  templateUrl: 'item-editor.html',\n})\nexport class ItemEditorPage<T> {\n\n\n  /**\n   * Validation Schema\n   */\n  private schema:{};\n\n  /**\n   * Validation Provider\n   */\n  private validationProvider:ValidationService<T>;\n  /**\n   * Form\n   */\n  private form: FormGroup;\n  /**\n   * Whether item is being added\n   */\n  private addItem:boolean;\n  /**\n   * Properties of item\n   */\n  private properties:string[];\n  /**\n   * Original value of item\n   */\n  readonly previousVal:T;\n  /**\n   * Item to be edited or added\n   */\n  private item:T;\n  /**\n   * Intializes EditPasswordPage\n   * @param viewCtrl View Controller\n   * @param navParams Navigation Parameters\n   * @param formBuilder Form Builder\n   * @param translate Translation Service\n   */\n  constructor(public viewCtrl: ViewController, public navParams: NavParams, \n    formBuilder: FormBuilder, private localizedToastProvider : LocalizedToastProvider, private modalCtrl : ModalController) {\n    this.item = navParams.get('item') as T;\n    this.addItem = navParams.get('addItem') as boolean;\n    this.schema = navParams.get('schema') as boolean;\n\n    this.validationProvider = new ValidationService(this.schema,this.item);\n\n    this.previousVal = JSON.parse(JSON.stringify(this.item));\n    const validators = {};\n    ACCOUNT_SCHEMA.properties.password.minLength;\n    this.properties = Object.keys(this.schema[\"properties\"]).filter((propName : string) => !(this.schema[\"properties\"][propName][\"hidden\"]) );\n    const validatedFields = this.schema['required'].filter((propName : string) => !(this.schema[\"properties\"][propName][\"hidden\"]) );\n    this.properties.forEach(property => {\n      if (!(this.item[property])){\n        this.item[property] = \"\";\n      }\n      const validationRequirements = (validatedFields.indexOf(property) > -1) ?\n        [\n          Validators.minLength(1)\n        ] : [Validators.minLength(0)];\n        validators[property] =  new FormControl(Validators.compose(validationRequirements));\n    });\n\n\n    this.form = formBuilder.group(validators);\n  \n  }\n\n\n  presentPasswordGenerator(id : string){\n    const passwordGenModal = this.modalCtrl.create(PasswordGeneratorPage, {});\n    passwordGenModal.onDidDismiss((genPassword : string) => {\n\n      if (genPassword !== undefined && genPassword !== null){\n        this.item[\"password\"] = genPassword;\n        \n      }\n    });\n    passwordGenModal.present();\n  }\n\n\n  \n\n  /**\n   * Dismisses Page \n   */\n  dismiss() {\n    if (this.addItem){\n      this.viewCtrl.dismiss();\n    }else{\n      this.viewCtrl.dismiss(this.previousVal);\n    }\n\n  }\n\n\n  /**\n   * Dismisses Page \n   */\n  save() {\n    this.properties.forEach(property => {\n      if (this.item[property] === \"\"){\n        delete this.item[property];\n      }\n    });\n    if (this.form.valid && this.validationProvider.isValid){\n      this.viewCtrl.dismiss(this.item);\n    }else{\n      this.localizedToastProvider.displayToastFor('validation.invalidForm');\n    }\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-editor/item-editor.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { PasswordGeneratorProvider, PasswordOption } from '../../providers/password-generator/password-generator';\n\n/**\n * Generated class for the PasswordGeneratorPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-password-generator',\n  templateUrl: 'password-generator.html',\n})\nexport class PasswordGeneratorPage {\n\n  private passwordLength = 20;\n  private options = [PasswordOption.numeric,PasswordOption.upper,PasswordOption.lower,PasswordOption.special];\n  private generatedPassword = \"\";\n  constructor(private viewCtrl: ViewController, private passwordGenerator : PasswordGeneratorProvider) {\n    this.generatedPassword = this.passwordGenerator.generate(this.passwordLength,this.options);\n  }\n\n\n\n  private updatePassword(){\n    this.generatedPassword = this.passwordGenerator.generate(this.passwordLength,this.options);\n  }\n\n  /**\n   * Dismisses Page \n   */\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  /**\n   * Sets password that was generated\n   * @param password Password to set\n   */\n  setPassword(password : string){\n    this.viewCtrl.dismiss(password);\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/password-generator/password-generator.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavParams, ViewController } from 'ionic-angular';\nimport { CryptoProvider } from '../../providers/crypto/crypto';\nimport { KEYCHAIN_DEFAULT } from '../../types/keychain';\nimport { KeychainProvider } from '../../providers/keychain/keychain';\n/**\n * Generated class for the NewKeychainPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-new-keychain',\n  templateUrl: 'new-keychain.html',\n})\n\nexport class NewKeychainPage {\n\n  private passphrase = \"\";\n  private keychainString = \"\";\n  constructor(private viewCtrl: ViewController,\n    private crypto : CryptoProvider, private keychainProvider : KeychainProvider) {\n  }\n\n\n  createKeychain(passphrase : string){\n    this.crypto.encryptObjectFromPhrase(passphrase, KEYCHAIN_DEFAULT).then((encrypted : string) =>{\n      this.viewCtrl.dismiss(encrypted);\n    });       \n  }\n\n  setKeychainfromRawText(){\n    this.viewCtrl.dismiss(this.keychainString);\n  }\n\n  importKeychain(file : File){\n    if (file['path']){\n      this.keychainProvider.setKeychainPath(file['path'])\n    }\n    const reader = new FileReader();\n    reader.readAsText(file);\n    reader.onload= () => {\n      this.viewCtrl.dismiss(reader.result);\n    };\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/new-keychain/new-keychain.ts","import { Component } from '@angular/core';\nimport { IonicPage} from 'ionic-angular';\nimport { KeychainProvider, StorageResponse } from '../../providers/keychain/keychain';\nimport { LocalizedToastProvider } from '../../providers/localized-toast/localized-toast';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n})\nexport class SettingsPage {\n\n  private oldPass = \"\";\n  private newPass = \"\";\n  private confPass = \"\";\n\n  constructor(private keychainProvider : KeychainProvider, private localizedToast : LocalizedToastProvider){\n  }\n\n  /**\n   * Changes language of App\n   */\n  changePassword(oldPass : string, newPass : string){\n\n    this.keychainProvider.changePassphrase(oldPass,newPass).then((resp : StorageResponse) => {\n      if (resp === StorageResponse.SUCCESS){\n        this.localizedToast.displayToastFor(\"validation.successPassChange\");\n        this.oldPass = \"\";\n        this.newPass = \"\";\n        this.confPass = \"\";\n      }else{\n        this.localizedToast.displayToastFor(\"validation.failedPassChange\");\n      }\n    });\n  }\n\n  removeKeychain(){\n    this.keychainProvider.removeKeychain();\n    location.reload();\n  }\n\n  exportKeychain(){\n    this.keychainProvider.exportKeychain();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 221;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 221\n// module chunks = 6","var map = {\n\t\"../pages/authenticate/authenticate.module\": [\n\t\t934,\n\t\t5\n\t],\n\t\"../pages/item-editor/item-editor.module\": [\n\t\t935,\n\t\t4\n\t],\n\t\"../pages/new-keychain/new-keychain.module\": [\n\t\t936,\n\t\t3\n\t],\n\t\"../pages/password-generator/password-generator.module\": [\n\t\t937,\n\t\t2\n\t],\n\t\"../pages/secure-notes/secure-notes.module\": [\n\t\t938,\n\t\t1\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t939,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 265;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 265\n// module chunks = 6","import { Account } from \"./account\";\nimport { SecureNote } from \"./secure-note\";\n\nexport interface Keychain{\n    accounts:Account[];\n    secureNotes:SecureNote[];\n\n}\n\nexport let KEYCHAIN_DEFAULT = {\n    accounts:[],\n    secureNotes:[],\n};\n\n\n// WEBPACK FOOTER //\n// ./src/types/keychain.ts","import Ajv from 'ajv';\n\nexport class ValidationService<T> {\n\n  private validate:Ajv.ValidateFunction;\n\n  constructor(private schema :  {}, private data : T){\n\n    const ajv = new Ajv(); // options can be passed, e.g. {allErrors: true}\n    this.validate = ajv.compile(schema);\n\n  }\n\n  get isValid():boolean{\n    this.validate(this.data);\n    return this.validate(this.data) as boolean;\n  }\n\n  validateFor(data : T):boolean{\n    this.validate(data);\n    return this.validate(data) as boolean;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/validation/validation.ts","export let SECURE_NOTE_SCHEMA = {\n    type: \"object\",\n    properties : {\n        \n        title:{\n            type: \"string\",\n            minLength: 1\n        },\n        body:{\n            type: \"string\",\n            minLength: 1\n        },\n        url:{\n            type: \"string\",\n            minLength: 1\n        },\n        uuid:{\n            type: \"string\",\n            minLength: 1,\n            hidden: true\n        }\n    },\n\n    additionalProperties:false,\n    required: [\"title\", \"body\", \"url\",\"uuid\"]\n};\n\n\n// WEBPACK FOOTER //\n// ./src/schema/secure-note.ts","import { ModalController, Platform } from 'ionic-angular';\nimport clipboard from 'clipboard-polyfill';\nimport { Identified } from '../../types/identified';\nimport { ItemEditorPage } from '../item-editor/item-editor';\nimport hash from \"object-hash\";\nimport { StorageID } from '../../app/app.component';\nimport { KeychainProvider, StorageResponse } from '../../providers/keychain/keychain';\nimport { AuthenticatePage } from '../authenticate/authenticate';\nimport { NewKeychainPage } from '../new-keychain/new-keychain';\n\n\nexport enum KeychainAction{\n  EDIT,\n  ADD,\n  DELETE,\n  READ\n}\n\n\nexport abstract class SecureItemsPage<T extends Identified> {\n\n\n    \n    /**\n     * Object Defaults\n     */\n    abstract objectDefaults:T;\n\n    /**\n     * Items being shown\n     */\n    private shownItems: {[uuid : string] : null} = {};\n  \n    private isAuthenticating = false;\n\n    private itemGroups:{[url : string] : T[]} = {};\n\n\n\n    /**\n     * Raw items\n     */\n    private rawItems:T[] = [];\n\n  /**\n   * Intializes __PasswordsPage__\n   * @param modalCtrl Modal Controller\n   * @param keychain Keychain Provider\n   * @param schema Validation Schema\n   * @param storageID Storage ID\n   */\n    constructor(\n      private modalCtrl : ModalController, private keychain: KeychainProvider,\n       private schema: {}, private storageID : StorageID, private platform : Platform) {\n        this.platform.ready().then(() => {\n          this.authenticate(KeychainAction.READ);\n           \n\n\n          this.platform.pause.subscribe(() => {\n\n            this.clearKeychainData();\n            \n          });\n        });\n\n    }\n\n\n    private clearKeychainData(){\n      this.keychain.removePassphraseSecurely();\n      this.rawItems = [];\n      this.itemGroups = {};\n      if (!(this.isAuthenticating)){\n        this.authenticate(KeychainAction.READ);\n      }\n        \n    }\n  \n\n    private authenticate(keychainAction : KeychainAction, item? : T){\n        this.keychain.keychainIsEmpty().then((isEmpty : boolean) => {\n          if (!(isEmpty)){\n            const afterUnlock = (passphrase : string) =>{\n              this.isAuthenticating = true;\n              if (passphrase !== undefined && passphrase !== null){\n                const keychainUnlocked = this.keychain.unlockKeychain(passphrase);\n                  return keychainUnlocked.then((isValid : StorageResponse) => {\n                    if (isValid === StorageResponse.SUCCESS){\n                      this.keychain.getKeychain(this.storageID, passphrase).then((rawItems : T[] | null) => {\n                        if (item && rawItems){\n                          switch(keychainAction) {\n                            case KeychainAction.ADD:\n                              this.rawItems = rawItems;\n                              this.rawItems.push(item);\n                              this.keychain.setKeychainProperty(passphrase,this.storageID,this.rawItems);\n                              break;\n                            case KeychainAction.EDIT:\n                              this.rawItems = rawItems.filter(\n                                (filtered : T) =>  filtered.uuid !== item.uuid);\n                              this.rawItems.push(item);\n                              this.keychain.setKeychainProperty(passphrase,this.storageID,this.rawItems);\n                              break;\n                            case KeychainAction.DELETE:\n                              this.rawItems = this.rawItems.filter(\n                                (filtered : T) =>  filtered.uuid !== item.uuid);\n                              this.keychain.setKeychainProperty(passphrase,this.storageID,this.rawItems);\n                              break;\n                            default:\n                              break;\n                            \n                          }\n                          this.keychain.storePassphraseSecurely(passphrase);\n                          this.itemGroups = this.getItemGroups(this.rawItems);\n                        }else{\n                          if (keychainAction === KeychainAction.READ){\n                            this.rawItems = rawItems;\n                            this.keychain.storePassphraseSecurely(passphrase);\n                            this.itemGroups = this.getItemGroups(this.rawItems);\n                          }\n                        }\n\n                      });\n                    }else{\n                      this.keychain.removePassphraseSecurely();\n                      this.authenticate(keychainAction,item);\n                    }\n                });\n              }\n            };\n            this.keychain.fetchPassphraseSecurely().then((passphraseFromStorage : string) => {\n              if (passphraseFromStorage !== null && passphraseFromStorage !== undefined){\n                afterUnlock(passphraseFromStorage);\n              }else{\n                \n                const authenticateModal = this.modalCtrl.create(AuthenticatePage,{},{ enableBackdropDismiss: false });\n                authenticateModal.onDidDismiss((passphrase : string) => {\n                  afterUnlock(passphrase);\n                  this.isAuthenticating = false;\n                });\n                authenticateModal.present();\n\n              }\n            });\n\n        }else{\n          this.configureKeychain();\n        }\n      });\n    }\n\n\n    private configureKeychain(){\n      const importModal = this.modalCtrl.create(NewKeychainPage,{},{ enableBackdropDismiss: false });\n        \n      importModal.onDidDismiss((encrypted : string) => {\n        if (encrypted !== undefined && encrypted !== null){\n          this.keychain.setRawKeychain(encrypted).then(() => {\n            this.authenticate(KeychainAction.READ);\n            this.isAuthenticating = false;\n          });\n        }\n      });\n      importModal.present();\n    }\n\n\n\n\n    \n    /**\n     * Sorts items by url\n     * @param items All Items \n     */\n    private getItemGroups(items : T[]):{[url : string] : T[]}{      \n      const itemGroups:{[property : string] : T[] } = {};\n      items.forEach(item => {\n        if (itemGroups[item.url]){\n          itemGroups[item.url].push(item);\n        }else{\n          itemGroups[item.url] = [];\n          itemGroups[item.url].push(item);\n        }\n      });\n      return itemGroups;\n    }\n\n  \n    /**\n     * Gets all item groups\n     * @param itemGroups Item groups\n     */\n    private itemGroupsNames(itemGroups : {[url : string] : T[]}):string[]{\n      return Object.keys(itemGroups);\n    }\n  \n    /**\n     * Shows a specific item\n     * @param uuid UUID of item\n     */\n    showItem(uuid : string){\n      this.shownItems[uuid] = null;\n    }\n  \n    /**\n     * Hides a specific item\n     * @param uuid UUID of item\n     */\n    private hideItem(uuid : string){\n      delete this.shownItems[uuid];\n    }\n  \n    /**\n     * Copies string to clipboard\n     * @param stringToCopy String to copy\n     */\n    private copyToClipboard(stringToCopy : string){\n      clipboard.writeText(stringToCopy);\n    }\n  \n    /**\n     * Edits item\n     * @param item __Identified<T>__\n     */\n    private editItem(item : T){\n      const oldChecksum = hash(item);\n        const editModal = this.modalCtrl\n          .create(ItemEditorPage, { item: JSON.parse(JSON.stringify(item)) as T, addItem : false, schema : this.schema });\n        editModal.onDidDismiss((newItem : T) => {\n          if (newItem !== undefined && newItem !== null){\n            const newChecksum = hash(newItem);\n            if (oldChecksum !== newChecksum){\n              this.authenticate(KeychainAction.EDIT, newItem);\n            }\n          }\n        });\n        editModal.present();\n    }\n  \n    /**\n     * Delete item\n     * @param uuid Identifier of item\n     */\n    private deleteItem(item : T){\n      this.authenticate(KeychainAction.DELETE, item);\n\n    }\n  \n    /**\n     * Adds item\n     */\n    private addItem(){\n      const date = new Date();\n      const epoch = date.getTime();\n      const uuid = hash(epoch + \"com.krossykey.identifier\");\n      const defaults = (JSON.parse(JSON.stringify(this.objectDefaults)) as T);\n      defaults.uuid = uuid;\n\n      const editModal = this.modalCtrl\n        .create(ItemEditorPage, { item: defaults , addItem : true, schema : this.schema});\n      editModal.onDidDismiss((newItem : T)=> {\n        if (newItem !== undefined && newItem !== null && (\n            this.rawItems.filter(\n              (filtered : T) =>  filtered.uuid === newItem.uuid).length === 0)){\n                this.authenticate(KeychainAction.ADD, newItem);\n              }\n      });\n      editModal.present();\n    }\n  \n  }\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/secure-items/secure-items.ts","import { Injectable } from '@angular/core';\n\nexport enum PasswordOption{\n  special = \"special\",\n  numeric = \"numeric\",\n  upper = \"upper\",\n  lower = \"lower\"\n}\n\n\n/**\n * Generates randomly generated password\n */\n@Injectable()\nexport class PasswordGeneratorProvider {\n\n  generate(length : number, options : PasswordOption[]) {\n    let password = \"\";\n    let passwordSelectionArray = [];\n\n    if (options.indexOf(PasswordOption.upper) > -1){\n      const alpha = this.asciiArrayGenerator([\n        {start : 65, length : 26}]);\n      passwordSelectionArray = passwordSelectionArray.concat(alpha);\n    }\n\n    if (options.indexOf(PasswordOption.lower) > -1){\n      const alpha = this.asciiArrayGenerator([\n        {start : 97, length : 26}]);\n      passwordSelectionArray = passwordSelectionArray.concat(alpha);\n    }\n\n    if (options.indexOf(PasswordOption.numeric) > -1){\n      const numbers = this.asciiArrayGenerator([{start : 48, length : 10}]);\n      passwordSelectionArray = passwordSelectionArray.concat(numbers);\n    }\n\n    if (options.indexOf(PasswordOption.special) > -1){\n      const specialChar = this.asciiArrayGenerator([\n        {start : 58, length : 7},\n        {start : 33, length : 15},\n        {start : 91, length : 6}]);\n      passwordSelectionArray = passwordSelectionArray.concat(specialChar);      \n    }\n\n\n    while( password.length<length ) {\n      const arr:Uint32Array = new Uint32Array(1);\n      crypto.getRandomValues(arr);\n      const randonVal:number = arr[0] * Math.pow(2,-32);\n      password += passwordSelectionArray[Math.ceil((passwordSelectionArray.length - 1) * randonVal)];\n    }\n    \n    return password;\n  }\n\n  /**\n   * Stitches ascii characters together in array\n   * @param ranges Ranges of ascii to stitch together\n   */\n  asciiArrayGenerator(ranges : Array<{start : number , length : number}>):string[]{\n    let array = [];\n    ranges.forEach(range => {\n      const characters = Array.from({length: range.length}, (_, k) => String.fromCharCode(k+range.start));\n      array = array.concat(characters);\n    });\n    return array;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/password-generator/password-generator.ts","import { Component } from '@angular/core';\nimport { IonicPage, ModalController, Platform } from 'ionic-angular';\nimport { Account, ACCOUNT_DEFAULT } from '../../types/account';\nimport { SecureItemsPage } from '../secure-items/secure-items';\nimport { ACCOUNT_SCHEMA } from '../../schema/account';\nimport { KeychainProvider } from '../../providers/keychain/keychain';\nimport { StorageID } from '../../app/app.component';\nimport notp from 'notp';\nimport base32 from 'thirty-two';\nimport qrcode from 'qrcode';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n/**\n * Page for displaying passwords\n */\n\n @Component({\n  selector: 'page-accounts',\n  templateUrl: 'accounts.html',\n})\nexport class AccountsPage extends SecureItemsPage<Account>{\n\n  /**\n   * Two Factor step\n   */\n  readonly step = 30;\n\n  /**\n   * Barcode Images\n   */\n  private imgs:{[uuid : string] : string} = {};\n\n  /**\n   * Time remaining\n   */\n  private timeRemaining = 0;\n\n\n  /**\n   * Account defaults\n   */\n  readonly objectDefaults = ACCOUNT_DEFAULT;\n\n  /**\n   * Intializes __PasswordsPage__\n   * @param modalCtrl Modal Controller\n   * @param keychain Keychain Provider\n   */\n\n  \n  constructor(\n    modalCtrl : ModalController, keychain : KeychainProvider, platform : Platform, private sanitizer : DomSanitizer) {\n      super(modalCtrl,keychain, ACCOUNT_SCHEMA, StorageID.accounts, platform);\n      this.calcTimeRemaining();\n  }\n\n    /**\n     * Generates Token from secret key\n     * @param twoFactorModel Model of Two Factor Identified\n     */\n    generateToken(account : Account):number{\n      if (account.twoFactor){\n      const unformatted = account.twoFactor.replace(/\\W+/g, '').toUpperCase();\n      const bin = base32.decode(unformatted);\n      return notp.totp.gen(bin);\n\n      }else{\n        return NaN;\n      }\n\n    }\n\n    loadPercentage(timeLeft : number):number{\n      return ((this.step - timeLeft)/30)*100;\n    }\n\n    /**\n     * Generates QR Code\n     * @param twoFactor Two Factor Identified\n     */\n    generateQrCode(account : Account){\n      qrcode.toDataURL(this.barCodeUrl(account), (err, imageUrl) => {\n        if (imageUrl) {\n          this.imgs[account.uuid] = imageUrl;\n        }\n      });\n    }\n\n    calcTimeRemaining() {\n      const date = new Date();\n      const epoch = date.getTime();\n      this.timeRemaining = this.step - Math.floor(epoch / 1000) % this.step;\n\n      setTimeout( () => {\n        this.calcTimeRemaining();\n      }, 1000);\n    }\n\n    /**\n     * Shows barcode\n     * @param twoFactor Two Factor Identified\n     */\n    showCredentials(account : Account){\n      this.generateQrCode(account);\n      this.showItem(account.uuid);\n    }\n\n    /**\n     * Barcode URL\n     * @param twoFactorModel Two Factor Identified Model\n     * @returns Bar code url\n     */\n    barCodeUrl (account : Account):string {\n      if (account.twoFactor){\n        return 'otpauth://totp/'\n          + encodeURI(account.userName || '')\n          + '?secret=' + account.twoFactor.replace(/[\\s\\.\\_\\-]+/g, '').toUpperCase()\n          + '&algorithm=' + ('SHA1')\n          + '&digits=' + (6)\n          + '&period=' + (this.step)\n          ;  \n      }\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/accounts/accounts.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { AppComponent } from './app.component';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { SecureNotesPage } from '../pages/secure-notes/secure-notes';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { ItemEditorPage } from '../pages/item-editor/item-editor';\nimport { NgCircleProgressModule } from 'ng-circle-progress';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { KeychainProvider } from '../providers/keychain/keychain';\nimport { LocalizedToastProvider } from '../providers/localized-toast/localized-toast';\nimport { AuthenticatePage } from '../pages/authenticate/authenticate';\nimport { CryptoProvider } from '../providers/crypto/crypto';\nimport { NewKeychainPage } from '../pages/new-keychain/new-keychain';\nimport {SecureStorage} from '@ionic-native/secure-storage';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { PasswordGeneratorProvider } from '../providers/password-generator/password-generator';\nimport { PasswordGeneratorPage } from '../pages/password-generator/password-generator';\nimport { AccountsPage } from '../pages/accounts/accounts';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SecureNotesPage,\n    AccountsPage,\n    ItemEditorPage,\n    AuthenticatePage,\n    NewKeychainPage,\n    SettingsPage,\n    PasswordGeneratorPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicStorageModule.forRoot({\n      name: 'krossykey',\n         driverOrder: ['sqlite', 'indexedb', 'websql',\"localstorage\"]\n    }),\n    \n    NgCircleProgressModule.forRoot({\n      // set defaults here\n      outerStrokeWidth: 2,\n      innerStrokeWidth: 2,\n      showSubtitle: false,\n      outerStrokeColor: \"#488aff\",\n      innerStrokeColor: \"rgba(0,0,0,0)\",\n      titleFontSize: \"10\",\n      animationDuration: 300,\n    }),\n    IonicModule.forRoot(AppComponent),\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n          provide: TranslateLoader,\n          useFactory: (createTranslateLoader),\n          deps: [HttpClient]\n      }\n  })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    AppComponent,\n    SecureNotesPage,\n    AccountsPage,\n    ItemEditorPage,\n    AuthenticatePage,\n    NewKeychainPage,\n    SettingsPage,\n    PasswordGeneratorPage\n  ],\n  providers: [\n    StatusBar,\n    SecureStorage,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    KeychainProvider,\n    LocalizedToastProvider,\n    CryptoProvider,\n    PasswordGeneratorProvider\n    ]\n})\nexport class AppModule {}\n\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { KEYCHAIN_DEFAULT, Keychain } from '../../types/keychain';\nimport { Storage } from '@ionic/storage';\nimport { ValidationService } from '../../services/validation/validation';\nimport { KEYCHAIN_SCHEMA } from '../../schema/keychain';\nimport { LocalizedToastProvider } from '../localized-toast/localized-toast';\nimport { StorageID, AppComponent, Mode } from '../../app/app.component';\nimport { Identified } from '../../types/identified';\nimport { CryptoProvider } from '../crypto/crypto';\nimport { SecureStorage, SecureStorageObject } from '@ionic-native/secure-storage';\nimport { Platform } from 'ionic-angular';\nimport downloadjs from 'downloadjs';\n/**\n * Storage Response\n */\nexport enum StorageResponse{\n  INVALID_KEYCHAIN,\n  INVALID_PASSCODE,\n  KEYCHAIN_NOT_SET,\n  SUCCESS\n}\n\n/*\n  Reads password from database\n*/\n@Injectable()\nexport class KeychainProvider {\n\n  private keychainValidator:ValidationService<Keychain>;\n  private _keychain:Keychain;\n  private _storageResp:StorageResponse = StorageResponse.SUCCESS;\n  private secureDatabase:Promise<SecureStorageObject>;\n  constructor(private storage : Storage, private localizedToast : LocalizedToastProvider, \n    private crypto : CryptoProvider, private secureStorage : SecureStorage, private platform : Platform) {\n    this.platform.ready().then(() => {\n      if (AppComponent.mode === Mode.mobile){\n        this.secureDatabase = this.secureStorage.create('krossykey');\n      }\n     \n    this.keychainValidator = new ValidationService<Keychain>(KEYCHAIN_SCHEMA,this._keychain);\n\n  });\n\n  }\n\n  /**\n   * Descibes Whether keychain is valid\n   */\n  get storageResp():StorageResponse{\n    return this._storageResp;\n  }\n\n  /**\n   * Resets keychain to default when keychain is invalid\n   */\n  invalidKeychain(){\n    this._keychain = KEYCHAIN_DEFAULT;\n    this.localizedToast.displayToastFor('validation.invalidKeychain');\n    this._storageResp = StorageResponse.INVALID_KEYCHAIN;\n  }\n\n  /**\n   * Resets keychain to default when keychain is invalid\n   */\n  invalidPassphrase(){\n    this._keychain = KEYCHAIN_DEFAULT;\n    this.localizedToast.displayToastFor('validation.invalidPassphrase');\n    this._storageResp = StorageResponse.INVALID_PASSCODE;\n  }\n\n  storePassphraseSecurely(passphrase : string){\n    if (AppComponent.mode === Mode.desktop){\n      //--[electron_build] const keytar = require('keytar')\n      //--[electron_build] keytar.setPassword('krossykey','krossykeytoken',passphrase)\n    }else if (AppComponent.mode === Mode.mobile){\n      return this.secureDatabase.then((secureStorage: SecureStorageObject) => {\n      \n        return secureStorage.set('krossykey',passphrase)\n        .then(\n        () =>true,\n          () =>false\n        );\n      });\n    }\n  }\n\n\n\n  removePassphraseSecurely():Promise<boolean>{\n\n    if (AppComponent.mode === Mode.desktop){\n      //--[electron_build] const keytar = require('keytar')\n      //--[electron_build] return keytar.deletePassword('krossykey','krossykeytoken')\n    }else if (AppComponent.mode === Mode.mobile){\n      return this.secureDatabase.then((secureStorage: SecureStorageObject) => {\n\n          return secureStorage.remove('krossykey')\n          .then(\n              () =>true,\n              () =>false\n          );\n      });\n    }else{\n      return this.storage.remove('krossykey').then(\n        () =>true,\n         () =>false\n       );\n    }\n\n  }\n\n\n  fetchPassphraseSecurely():Promise<string>{\n\n    if (AppComponent.mode === Mode.desktop){\n      //--[electron_build] const keytar = require('keytar')\n      //--[electron_build] return keytar.getPassword('krossykey','krossykeytoken')\n    }else if (AppComponent.mode === Mode.mobile){\n      return this.secureDatabase.then((secureStorage: SecureStorageObject) => {\n          return secureStorage.get('krossykey')\n          .then(\n            (passphrase:string) =>passphrase,\n            () =>null\n          );\n      });\n    }else{\n      return this.storage.get('krossykey').then((passphrase : string) => {\n        return passphrase;\n      });\n    }\n\n\n  }\n\n  changePassphrase(passphrase : string, newPassphrase : string):Promise<StorageResponse>{\n    return this.unlockKeychain(passphrase).then((resp : StorageResponse) =>{\n      if (resp === StorageResponse.SUCCESS){\n        this.lockKeychain(newPassphrase);\n      }\n      return resp;\n    });\n  }\n\n  /**\n   * Unlocks keychain\n   * @param passphrase Passphrase to unlock with\n   */\n  unlockKeychain(passphrase : string):Promise<StorageResponse>{\n      return this.getRawKeychain().then((encrypted : string) => {\n        if (encrypted){\n          const decrypted = this.crypto.decryptStringFromPhrase(passphrase,encrypted);\n          if (decrypted){\n            return decrypted.then((keychain : Keychain) => {\n              if (keychain){\n                if (this.keychainValidator.validateFor(keychain)){\n                  this._storageResp = StorageResponse.SUCCESS;\n                  this._keychain = keychain;\n\n                }else{\n                  this.invalidKeychain();\n                }\n              }else{\n                this.invalidPassphrase();\n              }\n              return this._storageResp;\n            });\n          }else{\n            this.invalidKeychain();\n            return this._storageResp;\n          }\n\n        }else{\n          this._storageResp = StorageResponse.KEYCHAIN_NOT_SET;\n          this._keychain = KEYCHAIN_DEFAULT;\n          return this.crypto.encryptObjectFromPhrase(passphrase, this._keychain).then((encrypted : string) =>{\n            this.setRawKeychain(encrypted);\n            return this._storageResp;\n          });       \n        }\n      });\n  }\n\n\n\n  /**\n   * Locks Keychain\n   * @param passphrase Passphrase to lock with\n   */\n  lockKeychain(passphrase : string){\n    this.crypto.encryptObjectFromPhrase(passphrase, this._keychain).then((encrypted : string) =>{\n      this.setRawKeychain(encrypted);\n    });\n    this._keychain = null;\n  }\n\n\n\n  getKeychain(storageID : StorageID, passphrase : string):Promise<Identified[] | null>{\n    return this.getRawKeychain().then((encrypted : string) => {\n    \n      return this.crypto.decryptStringFromPhrase(passphrase, encrypted).then((decrypted : Keychain) =>{\n        if (decrypted){\n          if (this.keychainValidator.validateFor(decrypted)){\n            return decrypted[storageID];\n          }else{\n            this.invalidKeychain();\n            return null;\n          }\n        }else{\n          this.invalidKeychain();\n          return null;\n        }\n\n      });  \n    });\n  }\n\n  setKeychainProperty(passphrase : string, storageID : StorageID, identified : Identified[]){\n    this._keychain[storageID] = identified as Keychain[StorageID];\n    this.crypto.encryptObjectFromPhrase(passphrase, this._keychain).then((encrypted : string) =>{\n      this.setRawKeychain(encrypted);\n    });  \n  }\n\n  setKeychain(passphrase : string, keychain : Keychain){\n    this.crypto.encryptObjectFromPhrase(passphrase, keychain).then((encrypted : string) =>{\n      this.setRawKeychain(encrypted);\n    });  \n  }\n\n  keychainIsEmpty():Promise<boolean>{\n    return this.getRawKeychain().then((encrypted : string) => {\n      if (encrypted){\n        return false;\n      }else{\n        this._storageResp = StorageResponse.KEYCHAIN_NOT_SET;\n        return true;\n      }\n    });\n  }\n\n\n  setKeychainPath(path : string):Promise<void>{\n    return this.storage.set('keychainFilePath',path);\n  }\n\n  deleteKeychainPath(){\n    this.storage.remove('keychainFilePath');\n  }\n\n  removeKeychain(){\n    //For Browsers\n    this.deleteKeychainPath();\n    this.storage.remove('keychain');\n  }\n\n  exportKeychain(){\n    //For Browsers\n    this.getRawKeychain().then((keychain : string) => {\n      downloadjs(keychain, \"keychain.kk\", \"text/plain\");\n\n    });\n\n  }\n\n  getKeychainPath():Promise<string>{\n    return this.storage.get('keychainFilePath');\n  }\n\n  setRawKeychain(rawKeychain : string):Promise<void>{\n    if (AppComponent.mode === Mode.desktop){\n\n      return this.getKeychainPath().then((path : string) =>{\n      //--[electron_build] const fs = require('fs');\n      if (path){\n        //--[electron_build] fs.writeFile(path, rawKeychain);\n      }else{\n        //--[electron_build] const {dialog} = require(\"electron\").remote;\n        //--[electron_build] var savePath = dialog.showSaveDialog({defaultPath : \"~/keychain.kk\"});\n        //--[electron_build] path = savePath\n        //--[electron_build] fs.writeFile(savePath, rawKeychain)\n        return this.setKeychainPath(path);\n      }\n      \n      });\n\n    }else{\n      return this.storage.set('keychain',rawKeychain);\n    }\n\n  }\n\n  getRawKeychain():Promise<string>{\n    if (AppComponent.mode === Mode.desktop){\n      return this.getKeychainPath().then((path : string) =>{\n          if (path){\n            //--[electron_build] const fs = require('fs');\n            try{\n            //--[electron_build] return fs.readFileSync(path)\n            }catch{\n              this.deleteKeychainPath();\n              return undefined;\n            }\n          }else{\n            return undefined;\n          }\n\n      });\n    }else{\n      return this.storage.get('keychain');\n    }\n  }\n\n\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/keychain/keychain.ts","import { ACCOUNT_SCHEMA } from \"./account\";\nimport { SECURE_NOTE_SCHEMA } from \"./secure-note\";\n\nexport let KEYCHAIN_SCHEMA = {\n    type: \"object\",\n    properties : {\n        \n        accounts:{\n            type: \"array\",\n            validateAllForSchema: ACCOUNT_SCHEMA\n        },\n        secureNotes:{\n            type: \"array\",\n            validateAllForSchema: SECURE_NOTE_SCHEMA\n        },\n\n    },\n\n    additionalProperties:false,\n    required: [\"accounts\", \"secureNotes\"]\n};\n\n\n// WEBPACK FOOTER //\n// ./src/schema/keychain.ts","import { Identified } from \"./identified\";\n\n/**\n * Secure Note model\n */\nexport interface SecureNote extends Identified{\n    /**\n     * Note title\n     */\n    readonly title:string;\n    /**\n     * Note body\n     */\n    readonly body:string;\n\n}\n\n/**\n * Secure note model defualt\n */\nexport let SECURE_NOTE_DEFAULT:SecureNote = {\n    title:\"\",\n    body:\"\",\n    url:\"\",\n    uuid:\"\"\n};\n\n\n// WEBPACK FOOTER //\n// ./src/types/secure-note.ts","import { Identified } from \"./identified\";\n\n/**\n * Account model\n */\nexport interface Account extends Identified{\n    /**\n     * Title of account\n     */\n    readonly title:string;\n    /**\n     * Username for account\n     */\n    readonly userName:string;\n    /**\n     * Password of account\n     */\n    readonly password:string;\n    /**\n     * Two factor key of account\n     */\n    readonly twoFactor:string;\n\n\n}\n\n/**\n * Password model default\n */\nexport let ACCOUNT_DEFAULT:Account = {\n    title:\"\",\n    userName:\"\",\n    password:\"\",\n    url:\"\",\n    twoFactor:\"\",\n    uuid:\"\"\n};\n\n\n// WEBPACK FOOTER //\n// ./src/types/account.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 528\n// module chunks = 6","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 530\n// module chunks = 6","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// buffer (ignored)\n// module id = 564\n// module chunks = 6","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 565\n// module chunks = 6","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastController } from 'ionic-angular';\n\n/*\n  Generated class for the LocalizedToastProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class LocalizedToastProvider {\n\n  constructor(public translate: TranslateService, private toastCtrl: ToastController) {\n\n  }\n\n  displayToastFor(i18n : string){\n    this.translate.get(i18n).subscribe((res: string) => {\n  \n      const toast = this.toastCtrl.create({\n        message: res,\n        duration: 3000,\n        position: 'bottom'\n      });\n\n      toast.present();    \n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/localized-toast/localized-toast.ts"],"sourceRoot":""}